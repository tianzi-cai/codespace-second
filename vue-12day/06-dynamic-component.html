<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态组件</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

</head>
<body>
    <!-- 1、动态的切换，用is控制组件名称 -->
    <!-- 4、keep-alive,使之保存在内存中，不销毁 -->
    <div id="app">
        <keep-alive>
            <component :is="componentName"></component>
        </keep-alive>
        <button @click="componentName='my-component-one'">组件one</button>
        <button @click="componentName='my-component-two'">组件two</button>
    </div>
    

    <script>
        Vue.component("my-component-one",{
            activated(){
                console.log("你能看到我");
            },
            deactivated(){
                console.log("你不能看到我");
            },
            template:`
                <div><input type="text"></div>
            `
        });
        Vue.component("my-component-two",{
            template:`
                <div>我是组件two</div>
            `
        });
        var app = new Vue({
            el:"#app",
            data:{
                componentName:"my-component-one",
            }
        });

        // 2、原理：根v-if差不多，切换时，会从内存中删除；再重新创建
        // 3、如何保留？？？不希望销毁，用keep-alive

        // 5、多的2个生命周期（keep-alive中新增的），看的见的，activated,deactivated,不能看见，只有keep-alive中有

        // 6、异步组件：()=>import('./my-async-component'),配合打包工具使用

    </script>
    
</body>
</html>